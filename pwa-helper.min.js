/*! PWA Helper v1.0.0 | MIT License | Â© 2025 Khin Maung Win */
!function(e,n){"use strict";const t={};let i=null,o=!1;e.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),i=e,window.dispatchEvent(new Event("pwa:ready"))})),t.install=async function(){if(!i)return void console.warn("PWAHelper: Install prompt not available");i.prompt();const e=await i.userChoice;i=null,"accepted"===e.outcome&&console.log("PWA installed")},e.addEventListener("appinstalled",(()=>{o=!0,window.dispatchEvent(new Event("pwa:installed"))})),t.isInstalled=function(){return o||e.matchMedia("(display-mode: standalone)").matches||!0===e.navigator.standalone},t.registerSW=function(e="service-worker.js"){navigator.serviceWorker&&navigator.serviceWorker.register(e).then((e=>{console.log("Service Worker registered"),e.addEventListener("updatefound",(()=>{const n=e.installing;n.addEventListener("statechange",(()=>{"installed"===n.state&&navigator.serviceWorker.controller&&window.dispatchEvent(new Event("pwa:update"))}))}))})).catch((e=>console.error("SW error",e)))};function r(){const n=navigator.onLine?"online":"offline";window.dispatchEvent(new CustomEvent("pwa:connection",{detail:n}))}e.addEventListener("online",r),e.addEventListener("offline",r),n.addEventListener("DOMContentLoaded",(()=>{r()})),e.PWAHelper=t}(window,document);
